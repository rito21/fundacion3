---
import Layout from "~/layouts/Layout.astro";
---
<Layout
  title="Fundación Protes Animal – Prótesis de fibra de carbono para animales"
  pageTitle="Fundación Protes Animal"
  description="Fundación sin fines de lucro que diseña y fabrica prótesis de fibra de carbono para perros y gatos."
>
  <main id="contenido">
    <!-- HERO -->
    <section id="inicio" class="section hero" aria-labelledby="hero-title">
      <video
        class="hero-bg"
        src="videos/fundacion-protes-animal-perro-protesis-fibra-carbono-1.mp4"
        muted
        playsinline
        autoplay
        aria-hidden="true"
      ></video>
      <div class="hero-content container">
        <h1 id="hero-title">Movilidad para sus patas. Dignidad para sus vidas.</h1>
        <p>
          Diseñamos y fabricamos prótesis de <strong>fibra de carbono</strong> y
          dispositivos de asistencia para perros y gatos. También formamos a tutores,
          estudiantes y profesionales en <strong>Fusion 360</strong> e
          <strong>impresión 3D</strong> para multiplicar el impacto.
        </p>
        <br />
        <a href="#donar" class="cta-button">Apóyanos</a>
        <a href="#curso" class="cta-button cta-secondary">Aprende con nosotros</a>
      </div>
    </section>

    <!-- QUE HACEMOS -->
    <section id="que-hacemos" class="section alt-bg" aria-labelledby="que-title">
      <div class="contenedor">
        <div class="parte-a">
          <h2 id="que-title">Qué hacemos</h2>
          <div class="grid three cards">
            <article class="card">
              <h3>Prótesis a medida</h3>
              <p>
                Soluciones livianas y resistentes en fibra de carbono adaptadas a la
                anatomía y rutina de cada paciente.
              </p>
            </article>
            <article class="card">
              <h3>Dispositivos de asistencia</h3>
              <p>
                Soportes, ortesis y carritos que acompañan la rehabilitación y mejoran
                la calidad de vida.
              </p>
            </article>
            <article class="card">
              <h3>Formación</h3>
              <p>
                Cursos y talleres de <strong>Fusion 360</strong> e
                <strong>impresión 3D</strong> para que más personas puedan diseñar y
                fabricar.
              </p>
            </article>
          </div>
          <div class="container impacto-container">
            <h2 id="impacto-title">Impacto</h2>
            <div class="stats">
              <div class="stat">
                <span class="stat-number" data-target="120">0</span
                ><span class="stat-label">prótesis entregadas</span>
              </div>
              <div class="stat">
                <span class="stat-number" data-target="85">0</span
                ><span class="stat-label">animales rehabilitados</span>
              </div>
              <div class="stat">
                <span class="stat-number" data-target="300">0</span
                ><span class="stat-label">personas formadas</span>
              </div>
            </div>
            <p class="note">
              *Cifras acumuladas. Actualizamos estos datos cada trimestre.
            </p>
          </div>
        </div>
        <div class="parte-b">
          <div id="que-gallery" class="v-gallery" aria-label="Galería vertical" tabindex="0">
            <div class="slider-track">
              <article class="slide">
                <img
                  src="images/fundacion-protes-animal-perro-protesis-fibra-carbono-1.png"
                  alt="Perro con prótesis de fibra de carbono"
                />
              </article>
              <article class="slide">
                <img
                  src="images/fundacion-protes-animal-perro-protesis-fibra-carbono-2.png"
                  alt="Perro con prótesis de fibra de carbono"
                />
              </article>
              <article class="slide">
                <img
                  src="images/fundacion-protes-animal-perro-protesis-fibra-carbono..png"
                  alt="Perro con prótesis de fibra de carbono"
                />
              </article>
              <article class="slide">
                <img
                    src="images/fundacion-protes-animal-perro-protesis-fibra-carbono-4.png"
                    alt="Perro con prótesis de fibra de carbono"
                />
              </article>
            </div>
          </div>
        </div>
        <div class="parte-c">
          <div class="video-row">
            <div class="slider-track">
              <video
                src="videos/fundacion-protes-animal-perro-protesis-fibra-carbono.mp4"
                muted
                autoplay
                loop
                playsinline
              ></video>
              <video
                src="videos/fundacion-protes-animal-perro-protesis-fibra-carbono-1.mp4"
                muted
                autoplay
                loop
                playsinline
              ></video>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- DONAR -->
    <section id="donar" class="section alt-bg" aria-labelledby="donar-title">
      <div class="container">
        <h2 id="donar-title">Tu ayuda cambia pasos por vidas</h2>
        <p>
          Con tu aporte financiamos materiales, consultas y becas de prótesis para
          familias que lo necesitan.
        </p>
        <form id="donation-form" class="donation-form" aria-describedby="donar-ayuda">
          <fieldset>
            <legend id="donar-ayuda" class="visually-hidden">Selecciona frecuencia y monto</legend>
            <div class="frequency" role="radiogroup" aria-label="Frecuencia de donación">
              <button
                type="button"
                class="frequency-option"
                data-frequency="once"
                aria-pressed="true"
              >
                Única
              </button>
              <button
                type="button"
                class="frequency-option"
                data-frequency="monthly"
                aria-pressed="false"
              >
                Mensual
              </button>
            </div>
            <input type="hidden" name="frequency" value="once" />
            <div class="amounts" aria-label="Montos sugeridos">
              <button type="button" class="amount-btn" data-amount="10" aria-pressed="false">
                $10
              </button>
              <button type="button" class="amount-btn" data-amount="25" aria-pressed="false">
                $25
              </button>
              <button type="button" class="amount-btn" data-amount="50" aria-pressed="false">
                $50
              </button>
              <button type="button" class="amount-btn" data-amount="100" aria-pressed="false">
                $100
              </button>
              <label for="custom-amount" class="visually-hidden">Otro monto</label>
              <input
                type="number"
                id="custom-amount"
                name="amount"
                class="custom-amount"
                placeholder="Otro monto"
                min="1"
                inputmode="numeric"
              />
            </div>
            <button type="submit" class="cta-button donate-submit">Donar</button>
          </fieldset>
        </form>
        <details class="transparencia">
          <summary>¿En qué usamos los fondos?</summary>
          <ul>
            <li>Materiales (resinas, fibras, liners, tornillería): 55%</li>
            <li>Atención y rehabilitación: 25%</li>
            <li>Becas de formación: 15%</li>
            <li>Gestión y administración: 5%</li>
          </ul>
        </details>
      </div>
    </section>

    <!-- SOCIOS -->
    <section id="socios" class="section" aria-labelledby="socios-title">
      <div class="container">
        <h2 id="socios-title">Socios</h2>
        <p>
          Dirigido a veterinarios y hospitales de animales. Por una cuota anual de 80 €,
          podrán solicitar hasta 5 prótesis al mes sin costo.
        </p>
        <div
          class="partners-slider"
          aria-label="Logos de socios y colaboradores"
        >
          <div class="slider-track">
            <img src="images/logoFundacion.png" alt="Socio 1" />
            <img src="images/logoFundacion.png" alt="Socio 2" />
            <img src="images/logoFundacion.png" alt="Colaborador 1" />
            <img src="images/logoFundacion.png" alt="Colaborador 2" />
            <img src="images/logoFundacion.png" alt="Socio 1" />
            <img src="images/logoFundacion.png" alt="Socio 2" />
            <img src="images/logoFundacion.png" alt="Colaborador 1" />
            <img src="images/logoFundacion.png" alt="Colaborador 2" />
          </div>
        </div>
      </div>
    </section>

    <!-- CURSOS -->
    <section id="curso" class="section" aria-labelledby="curso-title">
      <div class="container">
        <h2 id="curso-title">Cursos de Fusion 360 e impresión 3D</h2>
        <p>
          Aprende el flujo completo para diseñar y fabricar prótesis y dispositivos de
          asistencia para animales.
        </p>
        <div class="grid two cards">
          <article class="card">
            <h3>Diseño 3D con Fusion 360</h3>
            <ul class="bullets">
              <li>Modelado paramétrico aplicado a anatomía.</li>
              <li>Escaneo 3D / fotogrametría y adaptación.</li>
              <li>Generación de STL y preparación de impresión.</li>
            </ul>
            <p>
              <strong>Modalidad:</strong> en vivo online o presencial ·
              <strong>Duración:</strong> 12 h
            </p>
          </article>
          <article class="card">
            <h3>Impresión 3D y laminado en carbono</h3>
            <ul class="bullets">
              <li>Impresión FDM: materiales, boquillas y parámetros.</li>
              <li>Postprocesado, pruebas y ajustes.</li>
              <li>Laminado en fibra de carbono y seguridad.</li>
            </ul>
            <p>
              <strong>Modalidad:</strong> taller práctico ·
              <strong>Duración:</strong> 10 h
            </p>
          </article>
        </div>
        <div class="cta-row">
          <a
            href="mailto:contacto@protesanimal.org?subject=Inscripción%20cursos"
            class="cta-button"
            >Inscribirme</a
          >
          <a href="#faq" class="cta-button cta-secondary">Ver temario completo</a>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="section alt-bg" aria-labelledby="faq-title">
      <div class="container">
        <h2 id="faq-title">Preguntas frecuentes</h2>
        <details>
          <summary>¿Qué animales pueden usar una prótesis?</summary>
          <p>
            Principalmente perros y gatos con amputaciones parciales o totales de
            extremidades. Evaluamos cada caso junto a profesionales veterinarios.
          </p>
        </details>
        <details>
          <summary>¿La fibra de carbono es segura y cómoda?</summary>
          <p>
            Es muy liviana y resistente. Combinada con liners y acolchados adecuados
            reduce puntos de presión y mejora el confort.
          </p>
        </details>
        <details>
          <summary>¿Cuánto dura el proceso?</summary>
          <p>
            Desde la evaluación hasta la entrega suele tomar 2–4 semanas, dependiendo de
            pruebas y ajustes.
          </p>
        </details>
        <details>
          <summary>¿Otorgan becas o tarifas sociales?</summary>
          <p>
            Sí. Administramos un fondo de becas financiado por donaciones para familias
            que lo necesitan.
          </p>
        </details>
      </div>
    </section>

    <!-- CONTACTO -->
    <section id="contacto" class="section" aria-labelledby="contacto-title">
      <div class="container">
        <h2 id="contacto-title">Contacto</h2>
        <p>¿Tienes un caso, quieres colaborar o invitar un taller? Escríbenos.</p>
        <form id="contact-form" class="contact-form" netlify>
          <div class="form-grid">
            <div class="form-field">
              <label for="name">Nombre</label>
              <input
                id="name"
                name="name"
                type="text"
                autocomplete="name"
                required
                placeholder="Tu nombre"
              />
            </div>
            <div class="form-field">
              <label for="email">Correo</label>
              <input
                id="email"
                name="email"
                type="email"
                autocomplete="email"
                required
                placeholder="tu@correo.com"
              />
            </div>
            <div class="form-field full">
              <label for="message">Mensaje</label>
              <textarea
                id="message"
                name="message"
                rows="4"
                required
                placeholder="¿Cómo podemos ayudarte?"
              ></textarea>
            </div>
          </div>
          <button type="submit" class="cta-button">Enviar</button>
        </form>
      </div>
    </section>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const duplicateForLoop = (selector: string) => {
          const track = document.querySelector<HTMLElement>(selector);
          if (!track) return;

          const items = [...track.children];
          items.forEach((child) => {
            const clone = child.cloneNode(true);
            clone.setAttribute('aria-hidden', 'true');
            track.appendChild(clone);
          });

          track.style.animation = 'none';
          void track.offsetHeight;
          track.style.animation = '';
        };
        duplicateForLoop('#que-gallery .slider-track');
        duplicateForLoop('.video-row .slider-track');
      });
    </script>
  </main>
</Layout>
